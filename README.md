# HTTPServer
## GET
假如请求方法是get，所请求的文件将转换为本地文件系统中的一个文件名。如果所请求的文件是一个目录（即文件名以斜线结束），就添加一个索引文件名。这里使用了一个规范路径，确保请求的文件不会超出文档根目录之外。否则，恶意的客户端会在url中包括“...”沿着目录层次走遍整个本地文件系统。这就是需要从客户端得到的全部信息，不过更高级的Web服务器（尤其是记录命中率的服务器）还会读取客户端所发送MIME首部的其他部分。  
接下来，打开所请求的文件，将其内容读取到一个byte数组。如果HTTP版本是1.0或以后版本，则在输出流中写入适当的MIME首部。为了确定内容类型，要调用URLConnection.getFileNameMap().getContentTypeFor(fileName)方法，将文件扩展名（如.html）映射为MIME类型（如text/html）。包含文件内容的byte数组要写入输出流，然后关闭连接。如果无法找到文件或无法打开，则向客户端发送一个404相应。如果客户端发送了服务器不支持的一个方法，则要发回一个501错误。如果出现异常，需要计入日志，关闭连接，然后再继续。
## HEAD
假如请求方法是head处理方法与get差不多，只是head不返回文件内容。因为head方法只是用来确定服务器上是否存在客户端想要的文件，所以只需要返回文件的基本属性就可以了。
## POST
假如请求方法是post，客户端就会在get方法的基础上在多发送一个请求body，body里填写发送请求者的用户名和密码，而服务器端对post方法的处理则是用来认证身份，如果是允许访问的用户则返回200响应和所请求的文件内容，否则返回401错误。
## PUT
假如请求方法是put，客户端就会向服务器端发送一个文件，此时客户端的请求body里填写的是文件的内容，由于存放在服务器端的文件可能要放在文件夹中，因此服务器端在处理客户端的连接时如果文件根目录与文件之间还有其他路径则会创建文件夹。
## 多客户端同时访问
JHTTP类的main()方法根据设置文档根目录。端口使用默认的80。然后构造一个新的JHTTP对象并启动。JHTTP创建一个线程池来处理请求，并反复接受入站连接。对于每一个入站连接，将向池中提交一个RequestProcessor线程。每个连接由RequestProcessor类的run()方法处理。这个方法从socket得到输入和输出流，将他们分别串链到一个阅读器和一个书写器。阅读器读取客户端请求的第一行，确定客户端支持的HTTP版本（只在HTTP/1.0或以后版本时才发送MIME首部），并确定被请求的文件。
